---
import Layout from "../layouts/Layout.astro";
import NowPlaying from "../components/NowPlaying.astro";
import RegionDetails from "../components/RegionDetails.astro";

// Sample data for different regions and their playlists
const regions = [
  {
    id: 'south-america',
    name: 'South America',
    description: 'The South American sound in the 60s',
    color: '#FEE96A',
   day: 'Monday',
   isActive: true,
  },
  {
    id: 'africa',
    name: 'Africa',
    description: 'The African sound in the 60s',
    color: '#C13870',
    day: 'Tuesday',
    isActive: false,
  },
  {
    id: 'asia',
    name: 'Asia',
    description: 'The Asian sound in the 60s',
    color: '#FEE96A',
    day: 'Wednesday',
    isActive: false,
  },
  {
    id: 'europe',
    name: 'Europe',
    description: 'The European sound in the 60s',
    color: '#FEE96A',
    day: 'Thursday',
    isActive: false,
  },
  {
    id: 'middle-east',
    name: 'Middle East',
    description: 'The Middle East sound in the 60s',
    color: '#FEE96A',
    day: 'Friday',
    isActive: false,
  },
  {
    id: 'india',
    name: 'India',
    description: 'The Indian sound in the 60s',
    color: '#FEE96A',
    day: 'Saturday',
    isActive: false,
  },
  {
    id: 'australia',
    name: 'Australia',
    description: 'The Australian sound in the 60s',
    color: '#FEE96A',
    day: 'Sunday',
    isActive: false,
  },
];
---

<Layout title="FGR Curates: The Sixties Rumble">
  <!-- <Menu title="The Sixties Rumble" /> -->
  
  <main class=" pt-8 md:p-10 p-4 bg-white ">
    <!-- Hero Section -->
    <div class="text-center md:mb-16 mb-8">
      <!-- <h1 class="text-6xl font-bold text-[#FEE96A] mb-6">FGR CURATES</h1> -->
       <img src="/imgs/fgr_curr.png" alt="The Sixties Rumble" class="w-full h-auto max-w-md mx-auto">
      <h2 class="text-2xl text-[#FEE96A] mb-4">THE SIXTIES RUMBLE</h2>
   
      <div class="flex items-center justify-center gap-2">
        <div>
        <img src="/imgs/fgrlogo.png" alt="FGR logo" class="max-w-[56px] rounded">
      </div>
      <div>
        <h2 class="text-2xl text-[#FEE96A]">X</h2>
      </div>
      <div>
        <img src="/imgs/beachville_logo.png" alt="FGR logo" class="max-h-[56px] rounded">
      </div>
      </div>
      
    </div>


    <!-- Interactive section -->
    <div class="mb-16">
      <!-- <h3 class="text-3xl font-bold text-[#064161] text-center mb-8">Explore the Global Soundscape</h3> -->
      
      <!--  Container -->
      <div id="canvas-container" class="relative flex justify-center items-center min-h-[300px] ">
        <!-- Hidden image element as backup -->
        <img id="backup-image" src="/imgs/southam1.png" style="display: none;" alt="South America Map">
        <h3 class="text-3xl mb-8 rotate-[-10deg] font-bold text-[#FEE96A] absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 ">South America in the 60s</h3>
       
      </div>

      <!-- Region Details -->
      <div class="mb-8">
        <RegionDetails />
      </div>

    <!-- Schedule Section -->
    <div class="max-w-4xl mx-auto">
      <hr class="border-2 border-[#FEE96A] mb-8">
      <h3 class="text-3xl font-bold text-[#064161] text-center mb-8">Week Schedule</h3>
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        {regions.map((region, index) => (
          <div class={` p-6 rounded-lg border border-[#FEE96A]/30 hover:border-[#FEE96A]/50 transition-colors ${region.isActive ? 'bg-[#FEE96A]/10 border-[#FEE96A]' : 'bg-[#FEE96A]/10 border-[#FEE96A]/30'}`}>
            <div class="flex items-center mb-4">
              <div class="w-4 h-4 rounded-full mr-3" style={`background-color: ${region.color};`}></div>
              <h4 class="text-xl font-bold text-[#064161]">{region.name}</h4>
            </div>
            <p class="text-[#064161]/80 mb-4">{region.description}</p>
            <p class="text-sm text-[#FEE96A] font-bold">{region.day}</p>
            <p class="text-sm text-[#064161] font-bold">{region.isActive ? '[TODAY!]' : ''}</p>
          </div>
        ))}
      </div>
    </div>
  </main>
  
  <!-- Now Playing Component -->
  <NowPlaying />
</Layout>

<style>
  .region-marker {
    cursor: pointer;
  }
  
  .region-marker:hover {
    transform: scale(1.2);
  }
  
  .playlist-card {
    transition: all 0.3s ease;
  }
  
  .playlist-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 10px 25px rgba(254, 233, 106, 0.3);
  }
</style>
<!-- <script is:inline src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/2.0.4/p5.min.js" integrity="sha512-rOTpdy9fXlcLeLxPj5H4pof51FAx2lVK8Soexk8yTek9wrenwm56MKT2VddH8GCDd4a2js2i4GwezlUkbGdVQg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> -->
<script is:inline src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/2.0.5-rc.0/p5.js" integrity="sha512-jd5u/oY0j6Ha4yGjMSGohWJz8yQocZiHID/zEtZiIWoGL0pEm2l7lFKIRgMeVOha8bvBwHhw7vUDwbJ27vCu6g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script is:inline>
 //p5.js code
 
let img1;
let circles = [];


 async function setup() {
  img1 = await loadImage('/imgs/southam1.png');
  const pcanvas = createCanvas(window?.innerWidth-10, window?.innerHeight/2);
  pcanvas.parent('canvas-container');
  for (let i = 0; i < 20; i++) {
  circles.push({x: random(-width,width), y: random(-height,height), s: random(10,100)});
}
// background(100);
}

 function draw() {
  // background(255);
  noStroke();
  fill(165,218,210,20);
  rect(0,0,width,height);
  stroke(255,233,100,20);
  strokeWeight(1);

// circles grow and shrink

for (let circ of circles) {
  circ.s = circ.s + sin(frameCount/100);
  // circle.x = circle.x + noise(0.005 * frameCount+300)*10;
  // circle.y = circle.y + noise(0.005 * frameCount+400)*10;
  fill(255,253,106 ,0);
  ellipse(circ.x, circ.y, circ.s, circ.s);
}

  // rotate(frameCount/100);
  
  
  
  // let x = noise(0.008 * frameCount)*width/2;
  // let y = noise(0.005 * frameCount+100)*height/2;
  // let s = noise(0.005 * frameCount+200)*100;
  // translate(width/4,height/8);

  // image(img1,  0 , 0,img1.width/2,img1.height/2);


  // text("FGR",width/2,height/2);
}



</script>

<style>
  .polka {
  /* background-image: 
    radial-gradient(rgb(255, 255, 255) 29.2%, transparent 29.2%),
    radial-gradient(rgb(255, 255, 255) 29.2%, transparent 29.2%);
  background-position: 0px 0px, 8px 8px;
  background-size: 16px 16px; */
  /* background-color: rgb(255, 244, 106); */
  background-image: url('/imgs/tree.png');
  background-size: cover;
  background-position: 0px 0px;
  background-repeat: no-repeat;
}
</style>